<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management System - Admin</title>
    <link rel="stylesheet" href="task_admin.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="top_img">
        <img src="/img/lock_n.jpg" alt="Background Image">
    </div>

    <div class="container">
        <nav>
            <ul>
                <li><a href="admin.html" class="logo">
                        <img src="/img/admin_icon.png" alt="Admin Icon">
                        <span class="nav-item">DashBoard</span>
                    </a></li>
                <li><a href="task_admin.html">
                        <i class="fas fa-tasks"></i>
                        <span class="nav-item">Tasks</span>
                    </a></li>
                <li><a href="attend_adm.html">
                        <i class="fas fa-user"></i>
                        <span class="nav-item">Attendance</span>
                    </a></li>
                <li><a href="#">
                        <i class="fas fa-user"></i>
                        <span class="nav-item">Messages</span>
                    </a></li>
                <li><a href="index.html" class="logout" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class="nav-item">Log out</span>
                    </a></li>
            </ul>
        </nav>

        <main>
            <header>
                <h1>Task Management</h1>
            </header>

            <section class="assign-task-section">
                <h3>Assign Task to Employee</h3>
                <form id="assignTaskForm">
                    <label for="taskTopic">Task Topic:</label>
                    <select id="taskTopic" name="taskTopic" required>
                        <option value="" disabled selected>Select a topic</option>
                        <option value="Bug Bounty Hunter">Bug Bounty Hunter</option>
                        <option value="Cryptography">Cryptography</option>
                        <option value="Digital Forensics">Digital Forensics</option>
                        <option value="SOC Analyst">SOC Analyst</option>
                    </select>

                    <label for="taskDescription">Task Description:</label>
                    <textarea id="taskDescription" name="taskDescription" rows="3" required></textarea>

                    <label for="deadline">Deadline:</label>
                    <input type="date" id="deadline" name="deadline" required>

                    <label for="employeeName">Assign to Employee:</label>
                    <select id="employeeName" name="employeeName" required>
                        <option value="" disabled selected>Select an employee</option>
                        <option value="Aryan Kaushal">Aryan Kaushal</option>
                        <option value="Hardik">Hardik</option>
                    </select>

                    <button type="submit">Assign Task</button>
                </form>
            </section>

            <section class="tasks-section">
                <h3>Tasks Assigned</h3>
                <ul id="tasks"></ul>
            </section>
        </main>
    </div>

    <script>
        document.getElementById("assignTaskForm").addEventListener("submit", function (event) {
            event.preventDefault();

            const taskTopic = document.getElementById("taskTopic").value;
            const taskDescription = document.getElementById("taskDescription").value;
            const deadline = document.getElementById("deadline").value;
            const employeeName = document.getElementById("employeeName").value;

            const newTask = {
                topic: taskTopic,
                description: taskDescription,
                deadline: deadline,
                employee: employeeName,
                progress: 0 // Initial progress is set to 0
            };

            let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
            tasks.push(newTask);
            localStorage.setItem("tasks", JSON.stringify(tasks));

            alert("Task assigned successfully!");
            document.getElementById("assignTaskForm").reset();
        });
    </script>
</body>

</html>

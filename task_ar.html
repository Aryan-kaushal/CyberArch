<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tasks</title>
    <link rel="stylesheet" href="task_ar.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="employee.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>

    <header>
        <div class="top_img">
            <img src="/img/employeedash.jpg" alt="Employee Dashboard Background">
        </div>
        <button class="hamburger" onclick="toggleNav()">
            <i class="fas fa-bars"></i>
        </button>
    </header>

    <div class="container">
        <nav id="navbar">
            <ul>
                <li><a href="employee.html" class="logo">
                        <img src="/img/Aryan.jpg" alt="Aryan Kaushal Icon">
                        <span class="nav-item">Aryan Kaushal</span>
                    </a></li>
                <li><a href="profile.html">
                        <i class="fas fa-user"></i>
                        <span class="nav-item">Profile</span>
                    </a></li>
                <li><a href="task_ar.html">
                        <i class="fas fa-tasks"></i>
                        <span class="nav-item">Tasks</span>
                    </a></li>
                <li><a href="attendance.html">
                        <i class="fas fa-calendar-alt"></i>
                        <span class="nav-item">Attendance</span>
                    </a></li>
                <li><a href="task_comp_ar.html">
                        <i class="fas fa-check-circle"></i>
                        <span class="nav-item">Completed</span>
                    </a></li>
                <li><a href="form.html">
                        <i class="fas fa-clipboard"></i>
                        <span class="nav-item">Apply</span>
                    </a></li>
                <li><a href="index.html" class="logout" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class="nav-item">Log out</span>
                    </a></li>
            </ul>
        </nav>

        <!-- New Tasks Assigned Section -->
        <div class="section tasks-section">
            <h3>Tasks Assigned to Aryan Kaushal</h3>
            <ul id="tasks"></ul>
        </div>
    </div>

    <script>
        // Function to display tasks assigned to the specific employee
        function displayEmployeeTasks(employeeName) {
            let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
            const taskList = document.getElementById("tasks");
            taskList.innerHTML = "";

            // Filter tasks assigned to the specified employee
            const employeeTasks = tasks.filter((task) => task.employee === employeeName);

            if (employeeTasks.length === 0) {
                taskList.innerHTML = "<li>No tasks assigned</li>";
                return;
            }

            // Display filtered tasks
            employeeTasks.forEach((task) => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `
                    <span><strong>${task.topic}</strong> - Deadline: ${task.deadline}</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: ${task.progress}%;"></div>
                        <span class="progress-text">${task.progress}% Time Passed</span>
                    </div>
                `;
                taskList.appendChild(listItem);
            });
        }

        // Call function to display tasks for Aryan Kaushal on page load
        window.onload = function() {
            const currentEmployee = "Aryan Kaushal";
            displayEmployeeTasks(currentEmployee);
        };

        // Example logout function
        function logout() {
            alert("You have been logged out.");
        }

        // Example toggleNav function for the hamburger menu
        function toggleNav() {
            const navbar = document.getElementById("navbar");
            navbar.classList.toggle("active");
        }
    </script>
</body>
</html>
